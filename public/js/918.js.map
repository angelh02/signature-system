{"version":3,"file":"js/918.js","mappings":"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","sources":["webpack:///./resources/js/components/mydocuments/DocumentCreated.vue","webpack:///./resources/js/components/mydocuments/DocumentCreated.vue?521a","webpack:///./resources/js/components/mydocuments/DocumentsPreparation.vue?e1fa","webpack:///./resources/js/components/mydocuments/DocumentsPreparation.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <div class=\"row justify-content-center\">\n            <div class=\"col-xxl-4 col-lg-5 text-center\">\n                <img src=\"/images/add_document.svg\" style=\"height: 50%;\">\n                <h3>¡Has enviado el documento exitosamente!</h3>\n                <br>\n                <p>\n                    Los firmantes recibirán por correo una invitación para firmar.\n                </p>\n                <p>\n                    Puedes ver quien ya ha firmado desde el listado de documentos en la sección “Mis documentos”.\n                </p>\n                <a class=\"btn btn-primary\" href=\"/documents\">MIS DOCUMENTOS</a>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\n</script>","import { render } from \"./DocumentCreated.vue?vue&type=template&id=42cd1b72\"\nconst script = {}\n\nimport exportComponent from \"/Users/residentes/Sites/signature-system/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import script from \"./DocumentsPreparation.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DocumentsPreparation.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div>\n        <div v-if=\"!documentCreated\">\n            <div class=\"row\">\n                <div class=\"col-8\">\n                    <div class=\"row mx-2\">\n                        <div class=\"col-7\">\n                            <h1>Preparacion de documento</h1>\n                        </div>\n                        <div class=\"col-5 py-2\">\n                            <ul\n                                class=\"nav nav-pills bg-nav-pills nav-justified mb-3\"\n                            >\n                                <li class=\"nav-item\">\n                                    <a\n                                        href=\"#home1\"\n                                        data-bs-toggle=\"tab\"\n                                        aria-expanded=\"false\"\n                                        class=\"nav-link rounded-0 active\"\n                                    >\n                                        <i\n                                            class=\"mdi mdi-home-variant d-md-none d-block\"\n                                        ></i>\n                                        <span class=\"d-none d-md-block\"\n                                            >Preparación</span\n                                        >\n                                    </a>\n                                </li>\n                                <li class=\"nav-item\">\n                                    <a\n                                        href=\"#profile1\"\n                                        data-bs-toggle=\"tab\"\n                                        aria-expanded=\"true\"\n                                        class=\"nav-link rounded-0\"\n                                    >\n                                        <i\n                                            class=\"mdi mdi-account-circle d-md-none d-block\"\n                                        ></i>\n                                        <span class=\"d-none d-md-block\"\n                                            >Documento</span\n                                        >\n                                    </a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div class=\"tab-content mx-2\">\n                        <div class=\"tab-pane my-lg-n4\" id=\"profile1\">\n                            <div\n                                class=\"border text-white mt-3\"\n                            >\n                                <div\n                                    class=\"card-body\"\n                                >\n                                <div class=\"\">\n                                        <VuePdfEmbed v-if=\"source != ''\" :source=\"source\" :width=\"900\"  class=\"scrollspy-example\"></VuePdfEmbed>\n                                    </div>\n                                </div>\n                                <!-- end card-body-->\n                            </div>\n                        </div>\n                        <!-- Firmantes -->\n                        <div class=\"tab-pane active my-xxl-n4\" id=\"home1\">\n                            <h3>Añadir participantes</h3>\n                            <div class=\"pt-2\">\n                                <ul class=\"nav nav-tabs\">\n                                    <li class=\"nav-item\">\n                                        <a\n                                            href=\"#firmantes\"\n                                            data-bs-toggle=\"tab\"\n                                            aria-expanded=\"false\"\n                                            class=\"nav-link rounded-bottom rounded-3 active\"\n                                            style=\"background-color: #a1a5ad\"\n                                        >\n                                            <i\n                                                class=\"mdi mdi-home-variant d-md-none d-block\"\n                                            ></i>\n                                            <span class=\"d-none d-md-block text-white\"\n                                                >Firmantes</span\n                                            >\n                                        </a>\n                                    </li>\n                                </ul>\n                            </div>\n                            <div class=\"card\" style=\"background-color: #e9e9e9;\">\n                                <div class=\"card-body\">\n                                    <form class=\"needs-validation\"  novalidate>\n                                        <div class=\"card mb-2\" >\n                                        <div class=\"row g-2 card-body\" style=\"background-color: #f7f7f7;\">\n                                            <div class=\"mb-3 col-6\">\n                                                <label class=\"form-label\"\n                                                    >CORREO ELECTRÓNICO</label\n                                                >\n                                                <input\n                                                    type=\"text\"\n                                                    class=\"form-control\"\n                                                    id=\"email\"\n                                                    placeholder=\"correo@dominio.com\"\n                                                    v-model=\"formData.email\"\n                                                    required\n                                                />\n                                                <div class=\"invalid-feedback\">\n                                                    Please provide a valid zip.\n                                                </div>\n                                            </div>\n                                            <div class=\"mb-3 col-6\">\n                                                <label class=\"form-label\"\n                                                    >NOMBRE COMPLETO</label\n                                                >\n                                                <input\n                                                    type=\"text\"\n                                                    class=\"form-control\"\n                                                    id=\"name\"\n                                                    placeholder=\"Nombre del Firmante\"\n                                                    v-model=\"formData.name\"\n                                                    required\n                                                />\n                                                <div class=\"invalid-feedback\">\n                                                    Please provide a valid zip.\n                                                </div>\n                                            </div>\n                                        </div>\n                                        \n                                    </div>\n                                    <button\n                                            class=\"btn btn-sm btn-link p-1\"\n                                            type=\"button\"\n                                            @click=\"addRequest\"\n                                        >\n                                        <h4 class=\"uil-plus-circle\">Añadir firmante</h4>\n                                            \n                                        </button>\n                                    </form>\n                                </div>\n                            </div>\n                            <div class=\"card\" v-if=\"signers?.length > 0\">\n                                <div class=\"card-body pb-0\">\n                                    <h4 class=\"header-title mb-3\">FIRMANTES</h4>\n\n                                    <div class=\"inbox-widget mb-3\">\n                                        <div class=\"inbox-item\" v-for=\"signer in signers\">\n                                            <p class=\"inbox-item-author\">{{signer.name}}</p>\n                                            <p class=\"inbox-item-text\">{{signer.email}}</p>\n                                            <p class=\"inbox-item-date\">\n                                                <button type=\"button\" @click=\"deleteSigner(signer.id)\" class=\"btn btn-sm btn-outline-danger px-1 py-0\"> <i class=\"uil uil-trash-alt font-16\"></i> </button>\n                                            </p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"col-4 row justify-content-center py-2\">\n                    <div class=\"\">\n                        <div class=\"card rounded-4 border border-start\">\n                            <div class=\"card-body\">\n                                <p><b>Documento</b></p>\n                                <div class=\"inbox-widget mb-2\">\n                                    <div class=\"inbox-item\">\n                                        <div class=\"inbox-item-img\"><i class=\"mdi mdi-48px mdi-file-document-outline\"></i></div>\n                                        <p class=\"inbox-item-author\">{{documentData?.name}}</p>\n                                        <p class=\"inbox-item-text\">Creado el {{documentData?.created_at}}</p>\n                                        <a v-if=\"documentDownload != ''\" :href=\"documentDownload\" style=\"font-size: 0.8125rem\">Descargar</a>\n                                    </div>\n                                    <div class=\"inbox-item\">\n                                        <p class=\"inbox-item-author\">Tipo de documento</p>\n                                        <p class=\"inbox-item-text\">{{documentData?.document_type?.code+' - '+documentData?.document_type?.name}}</p>\n                                    </div>\n                                    <div class=\"inbox-item\">\n                                        <p class=\"inbox-item-author\">Clasificación del documento</p>\n                                        <p class=\"inbox-item-text\">{{documentData?.classification?.name}}</p>\n                                    </div>\n                                    <div class=\"inbox-item\">\n                                        <p class=\"inbox-item-author\">Contenedor del documento</p>\n                                        <p class=\"inbox-item-text\">{{documentData?.container?.name}}</p>\n                                    </div>\n                                </div>\n                                <div class=\"row justify-items-center ps-2 pe-2\">\n                                    <button\n                                        class=\"btn btn-primary mb-2\"\n                                        type=\"button\"\n                                        @click=\"createDocument\"\n                                    >\n                                        SOLICITAR FIRMAS\n                                    </button>\n                                    <a\n                                        class=\"btn btn-light mb-2\"\n                                        type=\"button\"\n                                        v-if=\"documentData?.id != null\"\n                                        @click=\"deleteDocument\"\n                                    >\n                                        CANCELAR\n                                    </a>\n                                </div>\n                            </div>\n                            <!-- end card-body-->\n                        </div>\n                        <!-- end card-->\n                    </div>\n                </div>\n            </div>\n        </div>\n        <DocumentCreated v-else></DocumentCreated>\n    </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch, toRef, reactive } from \"vue\";\nimport $ from 'jquery'\nimport { useRouter, useRoute } from \"vue-router\";\nimport VuePdfEmbed from 'vue-pdf-embed'\nimport useDocumentRequestsAPI from \"@/api/document/index.js\";\nimport DocumentCreated from \"./DocumentCreated.vue\";\n\nconst router = useRouter();\nconst route = useRoute();\nconst formData = ref({\n    name: \"\",\n    email: \"\",\n    document_id: 0,\n});\nconst signers = ref([]);\nconst documentId = ref(0);\nconst documentData = ref({});\nconst documentCreated = ref(false);\nconst documentDownload = ref(\"\");\n\n\nconst source = ref(\"\");\n\nconst props = defineProps({\n    dataFile: Object,\n    resFiles: Object\n});\n\nconst dataFile = toRef(props, \"dataFile\");\nconst resFiles = toRef(props, \"resFiles\");\n\nconst data = ref(\"\");\n\nconst addRequest = async => {\n    console.log(formData.value)\n    useDocumentRequestsAPI.addSigner(formData.value)\n    .then((res) => {\n        signers.value = res;\n        resetData();\n    });\n    // resetData();\n}\n\nconst createDocument = asyc => {\n    documentCreated.value = true;\n}\n\nconst deleteSigner = async (id) => {\n    useDocumentRequestsAPI.deleteSigner(id)\n    .then((res) => {\n        signers.value = res;\n    });\n}\n\nfunction resetData(){\n    formData.value.email = null;\n    formData.value.name = \"\";\n    formData.value.document_id = \"\";  \n}\n\n\n\nonMounted(async () => {   \n    console.log(route.params.id)\n    documentId.value = parseInt(route.params.id);\n    formData.value.document_id = documentId.value;\n    getDocumentData();\n    // console.log(data)fddd\n});\n\nfunction deleteDocument(){\n    useDocumentRequestsAPI.deleteDocument(documentId.value)\n    .then((res) => {\n        router.push({path:'/documents'});\n    });\n}\n\nfunction getDocumentData(){\n    useDocumentRequestsAPI.getDocument(documentId.value)\n    .then((res) => {\n        documentData.value = res;\n        signers.value = res?.document_signers;\n        console.log(documentsFiles.value[0]);\n        let index = documentsFiles.value.findIndex(x => x.name == res.name);\n        console.log(index);\n        source.value = \"/pdf/\"+(index == -1? documentsFiles.value[0].name : documentsFiles.value[index].name);\n        documentDownload.value = index == -1? documentsFiles.value[0].url : documentsFiles.value[index].url;\n    });\n}\n\nconst documentsFiles = ref([\n    {\n        name:\"minuta_reunion.pdf\",\n        url:\"https://drive.google.com/uc?id=1e4Pg3SkXZh6NEldfTNTUmzTGxE3VQlvd&export=download\",\n    },\n    {\n        name:\"lista_asistencia.pdf\",\n        url:\"https://drive.google.com/uc?id=1sJ1hGDWhFW-3etoSo5gnUAatUxiImXrj&export=download\",\n    },\n    {\n        name:\"constancia_servicio_social.pdf\",\n        url:\"https://drive.google.com/uc?id=1QvAC2oJqRnUHddwkJiUOkxIQJ5jyb5ln&export=download\",\n    },\n    {\n        name:\"carta_no_adeudo.pdf\",\n        url:\"https://drive.google.com/uc?id=1IO2e-rsr0WKXRSF9VrwTBz92VSqthpyK&export=download\",\n    },\n    {\n        name:\"acta_calificaciones.pdf\",\n        url:\"https://drive.google.com/uc?id=1tEg_1Kt6N97-waTcHtmIVsR2Tm_ztOl7&export=download\",\n    },\n]);\n</script>\n"],"names":["class","_createElementVNode","src","style","href","script","_createElementBlock","_hoisted_3","router","useRouter","route","useRoute","formData","ref","name","email","document_id","signers","documentId","documentData","documentCreated","documentDownload","source","addRequest","toRef","props","async","console","log","value","useDocumentRequestsAPI","then","res","createDocument","asyc","deleteSigner","id","deleteDocument","push","path","onMounted","params","parseInt","document_signers","documentsFiles","index","findIndex","x","url"],"sourceRoot":""}